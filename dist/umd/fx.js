/*! @ryanmorr/fx v0.1.0 | https://github.com/ryanmorr/fx */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fx=t()}(this,(function(){"use strict";const e={},t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,n=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([.\d]+))?\)$/,o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r={duration:1e3,easing:"ease-in-out"},a={linear:e=>e,"ease-in":e=>Math.pow(e,1.675),"ease-out":e=>1-Math.pow(1-e,1.675),"ease-in-out":e=>.5*(Math.sin((e-.5)*Math.PI)+1)};function i(e,t,n,o){return Array.isArray(t)?t.map(((t,s)=>i(e,t,n[s],o))):t+(n-t)*e(o)}function l(e,t){return getComputedStyle(e)[t]}function c(e){const n=t.exec(e);return n&&n[1]?n[1]:null}function u(e){return e.toLowerCase().includes("color")}function f(e,t,n){const o=e.exec(t);return[parseInt(o[1],n),parseInt(o[2],n),parseInt(o[3],n),null==o[4]?1:parseFloat(o[4])]}function d(e){return e.startsWith("rgb")?f(n,e,10):f(o,e.replace(s,((e,t,n,o)=>t+t+n+n+o+o)),16)}function p(t,n,o,s){const r=parseFloat(o);if("none"===o||0===r)return 0;if(null==s)return r;if("scale"===n&&"%"===s)return 100*r;const a=c(o);if(s===a||"deg"===a||"rad"===a||"turn"===a)return r;const i=o+s;i in e&&e[i];const l=document.createElement(t.tagName),u=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;u.appendChild(l),l.style.position="absolute",l.style.width=100+s;const f=100/l.offsetWidth*r;return u.removeChild(l),e[i]=f}function m(e,t,n,o,s,r,a,i){if(n in o){const l=o[n],[u,f]=Array.isArray(l)?l:[null,l],d=c(f);s[a]=u?parseFloat(u):p(e,t,s[a],d),r[a]=parseFloat(f),d&&(i[t][a]=d)}else s[a]=parseFloat(s[a]),r[a]=s[a]}function h(e,t,n,o,s,r){const a="scale"===t?1:0,i="scale"===t?"":"px",c=[a,a],u=function(e,t,n){const o=[n,n],s=l(e,t);if("none"!==s){const e=s.split(" ");"scale"===t&&1===e.length?o[0]=o[1]=s:s.split(" ").forEach(((e,t)=>o[t]=e))}return o}(e,t,a);r[t]=[i,i],m(e,t,t+"X",n,u,c,0,r),m(e,t,t+"Y",n,u,c,1,r),o[t]=u,s[t]=c}function y(e,t,n,o){switch(t){case"opacity":e.style[t]=n;break;case"scrollTop":case"scrollLeft":e[t]=n;break;case"rotate":e.style[t]=n+(o||"deg");break;case"scale":case"translate":e.style[t]=n[0]+o[0]+" "+n[1]+o[1];break;default:t in e.style&&(u(t)?e.style[t]=`rgb(${Math.floor(n[0])}, ${Math.floor(n[1])}, ${Math.floor(n[2])}, ${n[3]})`:e.style[t]=n+(o||"px"))}}return function(e,t){const n="string"==typeof e?document.querySelector(e):e,{duration:o,easing:s}=Object.assign(r,t);return new Promise((e=>{let r;const f=a[s],[m,g,b]=function(e,t){const n={},o={},s={};for(const r in t){const a=t[r];let[i,f]=Array.isArray(a)?a:[null,a];if(u(r))i=null==i?l(e,r):i,n[r]=d(i),o[r]=d(f);else if("scrollTop"===r||"scrollLeft"===r)i=null==i?e[r]:i,n[r]=i,o[r]=f;else if(r.startsWith("translate")||r.startsWith("scale")){const a=r.slice(0,-1);a in n||h(e,a,t,n,o,s)}else{const t=c(f);i=null==i?p(e,r,l(e,r),t)||0:parseFloat(i),n[r]=i,o[r]=parseFloat(f),s[r]=t}}return[n,o,s]}(n,t),x=t=>{r||(r=t);const s=Math.min(t-r,o)/o;for(const e in m)y(n,e,i(f,m[e],g[e],s),b[e]);s<1?requestAnimationFrame(x):e()};requestAnimationFrame(x)}))}}));
