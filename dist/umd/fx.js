/*! @ryanmorr/fx v0.1.0 | https://github.com/ryanmorr/fx */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).fx=t()}(this,(function(){"use strict";let e=0;const t=[],n={},o=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,r=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([.\d]+))?\)$/,s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,l={duration:1e3,easing:"ease-in-out"},i={all:"px",scale:"",rotate:"deg",translate:"px",opacity:"",offsetDistance:"%"},c={linear:e=>e,"ease-in":e=>Math.pow(e,1.675),"ease-out":e=>1-Math.pow(1-e,1.675),"ease-in-out":e=>.5*(Math.sin((e-.5)*Math.PI)+1)};function u(e,t,n,o){return Array.isArray(t)?t.map(((t,r)=>u(e,t,n[r],o))):t+(n-t)*e(o)}function f(e,t){const n=getComputedStyle(e);return t.includes("-")?n.getPropertyValue(t):n[t]}function d(e,t,n){t.includes("-")?e.style.setProperty(t,n):e.style[t]=n}function p(e){const t=o.exec(e);return t&&t[1]?t[1]:null}function m(e,t){return null==t?e in i?i[e]:i.all:t}function h(e){return e.toLowerCase().includes("color")}function y(e,t,n){const o=e.exec(t);return[parseInt(o[1],n),parseInt(o[2],n),parseInt(o[3],n),null==o[4]?1:parseFloat(o[4])]}function g(e){return e.startsWith("rgb")?y(r,e,10):y(s,e.replace(a,((e,t,n,o)=>t+t+n+n+o+o)),16)}function b(e,t,o,r){const s=parseFloat(o);if("none"===o||0===s)return 0;if(null==r)return s;if("scale"===t&&"%"===r)return 100*s;const a=p(o);if(r===a||"deg"===a||"rad"===a||"turn"===a)return s;const l=o+r;l in n&&n[l];const i=document.createElement(e.tagName),c=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;c.appendChild(i),i.style.position="absolute",i.style.width=100+r;const u=100/i.offsetWidth*s;return c.removeChild(i),n[l]=u}function x(e,t,n,o,r,s,a,l){if(n in o){const i=o[n],[c,u]=Array.isArray(i)?i:[null,i],f=p(u);r[a]=c?parseFloat(c):b(e,t,r[a],f),s[a]=parseFloat(u),f&&(l[t][a]=f)}else r[a]=parseFloat(r[a]),s[a]=r[a]}function A(e,t,n,o,r,s){const a="scale"===t?1:0,l=[a,a],i=function(e,t,n){const o=[n,n],r=f(e,t);if("none"!==r){const e=r.split(" ");"scale"===t&&1===e.length?o[0]=o[1]=r:e.forEach(((e,t)=>o[t]=e))}return o}(e,t,a);s[t]=[],x(e,t,t+"X",n,i,l,0,s),x(e,t,t+"Y",n,i,l,1,s),o[t]=i,r[t]=l}function F(e,t,n,o){switch(t){case"scrollTop":case"scrollLeft":e[t]=n;break;case"scale":case"translate":d(e,t,n[0]+m(t,o[0])+" "+n[1]+m(t,o[1]));break;default:h(t)?d(e,t,`rgb(${Math.floor(n[0])}, ${Math.floor(n[1])}, ${Math.floor(n[2])}, ${n[3]})`):d(e,t,n+m(t,o))}}function M(n){t.slice().forEach((e=>e(n))),e=t.length>0?requestAnimationFrame(M):0}function $(n,o,r,s){let a;const[l,i,c]=function(e,t){const n={},o={},r={};for(const s in t){const a=t[s];let[l,i]=Array.isArray(a)?a:[null,a];if(h(s))l=null==l?f(e,s):l,n[s]=g(l),o[s]=g(i);else if("scrollTop"===s||"scrollLeft"===s)l=null==l?e[s]:l,n[s]=l,o[s]=i;else if(s.startsWith("translate")||s.startsWith("scale")){const a=s.slice(0,-1);a in n||A(e,a,t,n,o,r)}else{const t=p(i);l=null==l?b(e,s,f(e,s),t)||0:parseFloat(l),n[s]=l,o[s]=parseFloat(i),r[s]=t}}return[n,o,r]}(n,o);return d=(e,t)=>{a||(a=e);const o=Math.min(e-a,r)/r;for(const e in l)F(n,e,u(s,l[e],i[e],o),c[e]);o>=1&&t()},0===e&&(e=requestAnimationFrame(M)),new Promise((e=>{const n=o=>d(o,(()=>{e();const o=t.indexOf(n);-1!==o&&t.splice(o,1)}));t.push(n)}));var d}return function(e,t){const n="string"==typeof e?document.querySelectorAll(e):e,{duration:o,easing:r}=Object.assign(l,t),s="string"==typeof r?c[r]:r;return n.nodeName?$(n,t,o,s):1===n.length?$(n[0],t,o,s):Promise.all(Array.from(n).map((e=>$(e,t,o,s))))}}));
