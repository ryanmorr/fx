/*! @ryanmorr/fx v0.1.0 | https://github.com/ryanmorr/fx */
const t={},e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,n=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([.\d]+))?\)$/,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,s={duration:1e3,easing:"ease-in-out"},o={all:"px",scale:"",rotate:"deg",translate:"px",opacity:""},l={linear:t=>t,"ease-in":t=>Math.pow(t,1.675),"ease-out":t=>1-Math.pow(1-t,1.675),"ease-in-out":t=>.5*(Math.sin((t-.5)*Math.PI)+1)};function i(t,e,n,r){return Array.isArray(e)?e.map(((e,a)=>i(t,e,n[a],r))):e+(n-e)*t(r)}function c(t,e){return getComputedStyle(t)[e]}function u(t){const n=e.exec(t);return n&&n[1]?n[1]:null}function f(t,e){return null==e?t in o?o[t]:o.all:e}function d(t){return t.toLowerCase().includes("color")}function p(t,e,n){const r=t.exec(e);return[parseInt(r[1],n),parseInt(r[2],n),parseInt(r[3],n),null==r[4]?1:parseFloat(r[4])]}function m(t){return t.startsWith("rgb")?p(n,t,10):p(r,t.replace(a,((t,e,n,r)=>e+e+n+n+r+r)),16)}function h(e,n,r,a){const s=parseFloat(r);if("none"===r||0===s)return 0;if(null==a)return s;if("scale"===n&&"%"===a)return 100*s;const o=u(r);if(a===o||"deg"===o||"rad"===o||"turn"===o)return s;const l=r+a;l in t&&t[l];const i=document.createElement(e.tagName),c=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;c.appendChild(i),i.style.position="absolute",i.style.width=100+a;const f=100/i.offsetWidth*s;return c.removeChild(i),t[l]=f}function y(t,e,n,r,a,s,o,l){if(n in r){const i=r[n],[c,f]=Array.isArray(i)?i:[null,i],d=u(f);a[o]=c?parseFloat(c):h(t,e,a[o],d),s[o]=parseFloat(f),d&&(l[e][o]=d)}else a[o]=parseFloat(a[o]),s[o]=a[o]}function g(t,e,n,r,a,s){const o="scale"===e?1:0,l=[o,o],i=function(t,e,n){const r=[n,n],a=c(t,e);if("none"!==a){const t=a.split(" ");"scale"===e&&1===t.length?r[0]=r[1]=a:a.split(" ").forEach(((t,e)=>r[e]=t))}return r}(t,e,o);s[e]=[],y(t,e,e+"X",n,i,l,0,s),y(t,e,e+"Y",n,i,l,1,s),r[e]=i,a[e]=l}function F(t,e,n,r){switch(e){case"scrollTop":case"scrollLeft":t[e]=n;break;case"scale":case"translate":t.style[e]=n[0]+f(e,r[0])+" "+n[1]+f(e,r[1]);break;default:e in t.style&&(d(e)?t.style[e]=`rgb(${Math.floor(n[0])}, ${Math.floor(n[1])}, ${Math.floor(n[2])}, ${n[3]})`:t.style[e]=n+f(e,r))}}function b(t,e){const n="string"==typeof t?document.querySelector(t):t,{duration:r,easing:a}=Object.assign(s,e);return new Promise((t=>{let s;const o=l[a],[f,p,y]=function(t,e){const n={},r={},a={};for(const s in e){const o=e[s];let[l,i]=Array.isArray(o)?o:[null,o];if(d(s))l=null==l?c(t,s):l,n[s]=m(l),r[s]=m(i);else if("scrollTop"===s||"scrollLeft"===s)l=null==l?t[s]:l,n[s]=l,r[s]=i;else if(s.startsWith("translate")||s.startsWith("scale")){const o=s.slice(0,-1);o in n||g(t,o,e,n,r,a)}else{const e=u(i);l=null==l?h(t,s,c(t,s),e)||0:parseFloat(l),n[s]=l,r[s]=parseFloat(i),a[s]=e}}return[n,r,a]}(n,e),b=e=>{s||(s=e);const a=Math.min(e-s,r)/r;for(const t in f)F(n,t,i(o,f[t],p[t],a),y[t]);a<1?requestAnimationFrame(b):t()};requestAnimationFrame(b)}))}export{b as default};
