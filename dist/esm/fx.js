/*! @ryanmorr/fx v0.1.0 | https://github.com/ryanmorr/fx */
const t={},e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,n=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([.\d]+))?\)$/,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,o={duration:1e3,easing:"ease-in-out"},s={all:"px",scale:"",rotate:"deg",translate:"px",opacity:""},l={linear:t=>t,"ease-in":t=>Math.pow(t,1.675),"ease-out":t=>1-Math.pow(1-t,1.675),"ease-in-out":t=>.5*(Math.sin((t-.5)*Math.PI)+1)};function c(t,e,n,r){return Array.isArray(e)?e.map(((e,a)=>c(t,e,n[a],r))):e+(n-e)*t(r)}function i(t,e){const n=getComputedStyle(t);return e.includes("-")?n.getPropertyValue(e):n[e]}function u(t,e,n){e.includes("-")?t.style.setProperty(e,n):t.style[e]=n}function f(t){const n=e.exec(t);return n&&n[1]?n[1]:null}function d(t,e){return null==e?t in s?s[t]:s.all:e}function p(t){return t.toLowerCase().includes("color")}function m(t,e,n){const r=t.exec(e);return[parseInt(r[1],n),parseInt(r[2],n),parseInt(r[3],n),null==r[4]?1:parseFloat(r[4])]}function h(t){return t.startsWith("rgb")?m(n,t,10):m(r,t.replace(a,((t,e,n,r)=>e+e+n+n+r+r)),16)}function y(e,n,r,a){const o=parseFloat(r);if("none"===r||0===o)return 0;if(null==a)return o;if("scale"===n&&"%"===a)return 100*o;const s=f(r);if(a===s||"deg"===s||"rad"===s||"turn"===s)return o;const l=r+a;l in t&&t[l];const c=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(c),c.style.position="absolute",c.style.width=100+a;const u=100/c.offsetWidth*o;return i.removeChild(c),t[l]=u}function g(t,e,n,r,a,o,s,l){if(n in r){const c=r[n],[i,u]=Array.isArray(c)?c:[null,c],d=f(u);a[s]=i?parseFloat(i):y(t,e,a[s],d),o[s]=parseFloat(u),d&&(l[e][s]=d)}else a[s]=parseFloat(a[s]),o[s]=a[s]}function F(t,e,n,r,a,o){const s="scale"===e?1:0,l=[s,s],c=function(t,e,n){const r=[n,n],a=i(t,e);if("none"!==a){const t=a.split(" ");"scale"===e&&1===t.length?r[0]=r[1]=a:t.forEach(((t,e)=>r[e]=t))}return r}(t,e,s);o[e]=[],g(t,e,e+"X",n,c,l,0,o),g(t,e,e+"Y",n,c,l,1,o),r[e]=c,a[e]=l}function b(t,e,n,r){switch(e){case"scrollTop":case"scrollLeft":t[e]=n;break;case"scale":case"translate":u(t,e,n[0]+d(e,r[0])+" "+n[1]+d(e,r[1]));break;default:p(e)?u(t,e,`rgb(${Math.floor(n[0])}, ${Math.floor(n[1])}, ${Math.floor(n[2])}, ${n[3]})`):u(t,e,n+d(e,r))}}function x(t,e){const n="string"==typeof t?document.querySelector(t):t,{duration:r,easing:a}=Object.assign(o,e);return new Promise((t=>{let o;const s=l[a],[u,d,m]=function(t,e){const n={},r={},a={};for(const o in e){const s=e[o];let[l,c]=Array.isArray(s)?s:[null,s];if(p(o))l=null==l?i(t,o):l,n[o]=h(l),r[o]=h(c);else if("scrollTop"===o||"scrollLeft"===o)l=null==l?t[o]:l,n[o]=l,r[o]=c;else if(o.startsWith("translate")||o.startsWith("scale")){const s=o.slice(0,-1);s in n||F(t,s,e,n,r,a)}else{const e=f(c);l=null==l?y(t,o,i(t,o),e)||0:parseFloat(l),n[o]=l,r[o]=parseFloat(c),a[o]=e}}return[n,r,a]}(n,e),g=e=>{o||(o=e);const a=Math.min(e-o,r)/r;for(const t in u)b(n,t,c(s,u[t],d[t],a),m[t]);a<1?requestAnimationFrame(g):t()};requestAnimationFrame(g)}))}export{x as default};
