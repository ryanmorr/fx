/*! @ryanmorr/fx v0.1.0 | https://github.com/ryanmorr/fx */
"use strict";const t={},e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,n=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([.\d]+))?\)$/,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a={duration:1e3,easing:"ease-in-out"},o={linear:t=>t,"ease-in":t=>Math.pow(t,1.675),"ease-out":t=>1-Math.pow(1-t,1.675),"ease-in-out":t=>.5*(Math.sin((t-.5)*Math.PI)+1)};function l(t,e,n,r){return Array.isArray(e)?e.map(((e,s)=>l(t,e,n[s],r))):e+(n-e)*t(r)}function c(t,e){return getComputedStyle(t)[e]}function i(t){const n=e.exec(t);return n&&n[1]?n[1]:null}function u(t){return t.toLowerCase().includes("color")}function f(t,e,n){const r=t.exec(e);return[parseInt(r[1],n),parseInt(r[2],n),parseInt(r[3],n),null==r[4]?1:parseFloat(r[4])]}function d(t){return t.startsWith("rgb")?f(n,t,10):f(r,t.replace(s,((t,e,n,r)=>e+e+n+n+r+r)),16)}function p(e,n,r,s){const a=parseFloat(r);if("none"===r||0===a)return 0;if(null==s)return a;if("scale"===n&&"%"===s)return 100*a;const o=i(r);if(s===o||"deg"===o||"rad"===o||"turn"===o)return a;const l=r+s;l in t&&t[l];const c=document.createElement(e.tagName),u=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;u.appendChild(c),c.style.position="absolute",c.style.width=100+s;const f=100/c.offsetWidth*a;return u.removeChild(c),t[l]=f}function m(t,e,n,r,s,a,o,l){if(n in r){const c=r[n],[u,f]=Array.isArray(c)?c:[null,c],d=i(f);s[o]=u?parseFloat(u):p(t,e,s[o],d),a[o]=parseFloat(f),d&&(l[e][o]=d)}else s[o]=parseFloat(s[o]),a[o]=s[o]}function h(t,e,n,r,s,a){const o="scale"===e?1:0,l="scale"===e?"":"px",i=[o,o],u=function(t,e,n){const r=[n,n],s=c(t,e);if("none"!==s){const t=s.split(" ");"scale"===e&&1===t.length?r[0]=r[1]=s:s.split(" ").forEach(((t,e)=>r[e]=t))}return r}(t,e,o);a[e]=[l,l],m(t,e,e+"X",n,u,i,0,a),m(t,e,e+"Y",n,u,i,1,a),r[e]=u,s[e]=i}function y(t,e,n,r){switch(e){case"opacity":t.style[e]=n;break;case"scrollTop":case"scrollLeft":t[e]=n;break;case"rotate":t.style[e]=n+(r||"deg");break;case"scale":case"translate":t.style[e]=n[0]+r[0]+" "+n[1]+r[1];break;default:e in t.style&&(u(e)?t.style[e]=`rgb(${Math.floor(n[0])}, ${Math.floor(n[1])}, ${Math.floor(n[2])}, ${n[3]})`:t.style[e]=n+(r||"px"))}}module.exports=function(t,e){const n="string"==typeof t?document.querySelector(t):t,{duration:r,easing:s}=Object.assign(a,e);return new Promise((t=>{let a;const f=o[s],[m,g,b]=function(t,e){const n={},r={},s={};for(const a in e){const o=e[a];let[l,f]=Array.isArray(o)?o:[null,o];if(u(a))l=null==l?c(t,a):l,n[a]=d(l),r[a]=d(f);else if("scrollTop"===a||"scrollLeft"===a)l=null==l?t[a]:l,n[a]=l,r[a]=f;else if(a.startsWith("translate")||a.startsWith("scale")){const o=a.slice(0,-1);o in n||h(t,o,e,n,r,s)}else{const e=i(f);l=null==l?p(t,a,c(t,a),e)||0:parseFloat(l),n[a]=l,r[a]=parseFloat(f),s[a]=e}}return[n,r,s]}(n,e),F=e=>{a||(a=e);const s=Math.min(e-a,r)/r;for(const t in m)y(n,t,l(f,m[t],g[t],s),b[t]);s<1?requestAnimationFrame(F):t()};requestAnimationFrame(F)}))};
