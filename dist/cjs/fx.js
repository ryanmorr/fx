/*! @ryanmorr/fx v1.0.1 | https://github.com/ryanmorr/fx */
"use strict";let e=0;const t=[],n={},r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/,a=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([.\d]+))?\)$/,o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,c={duration:1e3,easing:"ease-in-out"},l={all:"px",scale:"",rotate:"deg",translate:"px",opacity:"",offsetDistance:"%"},i={linear:e=>e,"ease-in":e=>Math.pow(e,1.675),"ease-out":e=>1-Math.pow(1-e,1.675),"ease-in-out":e=>.5*(Math.sin((e-.5)*Math.PI)+1)};function u(e){return Array.isArray(e)?e:[null,e]}function f(e){const t=r.exec(e);return t&&t[1]?t[1]:null}function d(e,t){return null==t?e in l?l[e]:l.all:t}function p(e){return e.toLowerCase().includes("color")}function m(e,t,n){const r=e.exec(t);return[parseInt(r[1],n),parseInt(r[2],n),parseInt(r[3],n),null==r[4]?1:parseFloat(r[4])]}function h(e){return e.startsWith("rgb")?m(a,e,10):m(o,e.replace(s,((e,t,n,r)=>t+t+n+n+r+r)),16)}function y(e,t,r,a){const o=parseFloat(r);if("none"===r||""===r||0===o)return 0;if(null==a)return o;if("scale"===t&&"%"===a)return 100*o;const s=f(r);return a===s||"deg"===s||"rad"===s||"turn"===s?o:function(e,t,r){const a=t+r;a in n&&n[a];const o=document.createElement(e.tagName),s=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;s.appendChild(o),o.style.position="absolute",o.style.width=100+r;const c=100/o.offsetWidth*parseFloat(t);return s.removeChild(o),n[a]=c}(e,r,a)}function g(e,t){const n=getComputedStyle(e);return t.includes("-")?n.getPropertyValue(t):n[t]}function b(e,t,n){t.includes("-")?e.style.setProperty(t,n):e.style[t]=n}function F(e,t){const n={},r={},a={};return Object.keys(t).forEach((o=>{let[s,c]=u(t[o]);switch(o){case"scrollTop":case"scrollLeft":n[o]=null==s?e[o]:s,r[o]=c;break;case"scaleX":case"scaleY":case"translateX":case"translateY":{const l=o.slice(0,-1);if(!n[l]){const o="scale"===l?1:0;s=function(e,t,n){const r=[n,n],a=g(e,t);if("none"!==a){const e=a.split(" ");"scale"===t&&1===e.length?r[0]=r[1]=a:e.forEach(((e,t)=>r[t]=e))}return r}(e,l,o),c=[o,o],a[l]=[],["X","Y"].forEach(((n,r)=>{const o=l+n;if(o in t){const[n,i]=u(t[o]),d=f(i);s[r]=null==n?y(e,l,s[r],d):parseFloat(n),c[r]=parseFloat(i),a[l][r]=d}else s[r]=c[r]=parseFloat(s[r])})),n[l]=s,r[l]=c}break}default:if(p(o))n[o]=h(null==s?g(e,o):s),r[o]=h(c);else{const t=f(c);n[o]=null==s?y(e,o,g(e,o),t):parseFloat(s),r[o]=parseFloat(c),a[o]=t}}})),[n,r,a]}function x(n){return 0===e&&(e=requestAnimationFrame(w)),new Promise((e=>{const r=()=>(e(),function(e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(a)),a=e=>n(e,r);t.push(a)}))}function w(n){for(let e=t.length;e--;)t[e](n);e=t.length>0?requestAnimationFrame(w):0}function A(e,t,n,r){return Array.isArray(t)?t.map(((t,a)=>A(e,t,n[a],r))):t+(n-t)*e(r)}function M(e,t,n,r){let a;const[o,s,c]=F(e,t);return x(((t,l)=>{a||(a=t);const i=Math.min(t-a,n)/n;Object.keys(o).forEach((t=>function(e,t,n,r){switch(t){case"scrollTop":case"scrollLeft":e[t]=n;break;case"scale":case"translate":b(e,t,n[0]+d(t,r[0])+" "+n[1]+d(t,r[1]));break;default:b(e,t,p(t)?`rgb(${Math.floor(n[0])}, ${Math.floor(n[1])}, ${Math.floor(n[2])}, ${n[3]})`:n+d(t,r))}}(e,t,A(r,o[t],s[t],i),c[t]))),i>=1&&l()}))}module.exports=function(e,t){const n="string"==typeof e?document.querySelectorAll(e):e,{duration:r,easing:a,...o}=Object.assign(c,t),s="string"==typeof a?i[a]:a;return n.nodeName?M(n,o,r,s):1===n.length?M(n[0],o,r,s):Promise.all(Array.from(n).map((e=>M(e,o,r,s))))};
